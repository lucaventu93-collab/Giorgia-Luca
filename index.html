<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giorgia & Luca - Wedding Invite</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        :root {
            --cream: #fdfbf7; --gold: #b08d57; --sage: #7a8d76; --dark: #2c2c2c;
            --wax: #4a5d4a; /* Verde salvia per la ceralacca come nel video */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* Blocchiamo lo scroll finché la busta è chiusa */
        body.locked { overflow: hidden; }
        body { font-family: 'Montserrat', sans-serif; background-color: var(--cream); color: var(--dark); }

        /* --- 1. BUSTA 3D REALISTICA (FULL SCREEN) --- */
        #envelope-wrapper {
            position: fixed; inset: 0; background: #e0ddd5; z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            transition: transform 1.2s cubic-bezier(0.7, 0, 0.3, 1), opacity 1s;
        }
        
        .envelope {
            position: relative; width: 350px; height: 250px;
            background: #fff; box-shadow: 0 30px 60px rgba(0,0,0,0.15);
            transform-style: preserve-3d;
        }

        /* Lembo Superiore */
        .envelope-flap {
            position: absolute; top: 0; width: 100%; height: 100%;
            background: #f9f9f9; clip-path: polygon(0 0, 100% 0, 50% 50%);
            transform-origin: top; transition: transform 0.8s ease-in-out;
            z-index: 3; border: 1px solid #eee;
        }

        /* Sigillo Ceralacca Realistico */
        .wax-seal {
            position: absolute; bottom: 35%; left: 50%; transform: translateX(-50%);
            width: 70px; height: 70px; background: var(--wax); border-radius: 50%;
            z-index: 4; cursor: pointer; display: flex; justify-content: center; 
            align-items: center; color: white; font-family: 'Playfair Display';
            font-size: 24px; font-weight: bold;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3), 0 5px 15px rgba(0,0,0,0.2);
            background-image: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1), transparent);
        }

        /* Animazione Apertura */
        .envelope.open .envelope-flap { transform: rotateX(180deg); z-index: 1; }
        .envelope.open .wax-seal { opacity: 0; pointer-events: none; }
        #envelope-wrapper.fade-out { transform: translateY(-100%); opacity: 0; }

        /* --- 2. SEZIONI FULL SCREEN --- */
        section { 
            height: 100vh; width: 100%; display: flex; flex-direction: column;
            justify-content: center; align-items: center; padding: 40px;
            scroll-snap-align: start; position: relative;
            border-bottom: 1px solid rgba(176,141,87,0.1); /* Contorno leggero */
        }
        .main-container { scroll-snap-type: y mandatory; height: 100vh; overflow-y: scroll; display: none; }
        .main-container.active { display: block; }

        h2 { font-family: 'Playfair Display', serif; font-size: 2.2rem; color: var(--gold); margin-bottom: 20px; }

        /* --- MAPPE E LOCATION --- */
        .location-card { background: white; border-radius: 15px; padding: 20px; width: 100%; max-width: 400px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .mini-map { width: 100%; height: 150px; border-radius: 10px; margin: 15px 0; border: 1px solid #eee; overflow: hidden; }

        /* --- IBAN GIFT BOX ANIMATION --- */
        .gift-section { position: relative; height: 200px; width: 100%; max-width: 300px; }
        .gift-box {
            width: 100%; height: 120px; background: var(--sage); border-radius: 10px;
            display: flex; justify-content: center; align-items: center;
            color: white; cursor: pointer; position: relative; z-index: 5;
        }
        .iban-letter {
            position: absolute; top: 10px; left: 5%; width: 90%; background: white;
            padding: 20px; border: 1px solid #eee; text-align: center;
            transition: 0.8s cubic-bezier(0.4, 0, 0.2, 1); opacity: 0; z-index: 2;
        }
        .gift-section.active .iban-letter { transform: translateY(-130px); opacity: 1; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }

        /* --- RSVP FORM --- */
        .rsvp-card { background: white; padding: 25px; border-radius: 15px; width: 100%; max-width: 450px; text-align: left; box-shadow: 0 10px 40px rgba(0,0,0,0.05); }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .full-width { grid-column: span 2; }
        label { font-size: 0.75rem; font-weight: 600; color: #888; text-transform: uppercase; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #eee; border-radius: 8px; margin-top: 5px; font-family: inherit; }
        .diet-list { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .diet-item { font-size: 0.7rem; display: flex; align-items: center; gap: 8px; }

        .btn { padding: 15px 30px; border-radius: 50px; border: 1px solid var(--gold); background: white; color: var(--gold); cursor: pointer; transition: 0.3s; font-size: 0.8rem; letter-spacing: 1px; }
        .btn:hover { background: var(--gold); color: white; }
    </style>
</head>
<body class="locked">

    <div id="envelope-wrapper">
        <div class="envelope" id="envelope">
            <div class="envelope-flap"></div>
            <div class="wax-seal" onclick="openInvite()">G&L</div>
        </div>
    </div>

    <div class="main-container" id="site-content">
        
        <section>
            <div data-aos="zoom-in" data-aos-mirror="true">
                <h1 style="font-family:'Playfair Display'; font-size: 3rem; color: var(--gold);">Giorgia & Luca</h1>
                <p style="letter-spacing: 5px; margin-top: 10px;">6 GIUGNO 2026</p>
            </div>
        </section>

        <section>
            <h2 data-aos="drop-in" data-aos-mirror="true">Salva la Data</h2>
            <div style="display:flex; gap:20px; margin-bottom:30px;" data-aos="fade-up">
                <div style="text-align:center;"><span id="days" style="font-size:2rem; font-family:'Playfair Display';">00</span><br><small>GIORNI</small></div>
                <div style="text-align:center;"><span id="hours" style="font-size:2rem; font-family:'Playfair Display';">00</span><br><small>ORE</small></div>
            </div>
            <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=Matrimonio+Giorgia+e+Luca&location=Tenuta+Le+Trabe,+Paestum&dates=20260606T143000Z/20260606T233000Z" target="_blank" class="btn">
                <i class="fa-solid fa-calendar-plus"></i> AGGIUNGI AL CALENDARIO
            </a>
        </section>

        <section>
            <h2 data-aos="drop-in" data-aos-mirror="true">Le Location</h2>
            <div class="location-card" data-aos="fade-right" data-aos-mirror="true">
                <p style="font-weight:600;">Cerimonia - Ore 16:30</p>
                <p style="font-size:0.8rem; color:#777;">Chiesa Madre dell'Annunziata, Paestum</p>
                <div class="mini-map">
                    <iframe width="100%" height="100%" frameborder="0" src="https://maps.google.com/maps?q=Chiesa%20Madre%20Paestum&t=&z=15&ie=UTF8&iwloc=&output=embed"></iframe>
                </div>
                <a href="https://maps.google.com/?q=Chiesa+Madre+Paestum" target="_blank" class="btn" style="width:100%; display:block; text-align:center;">NAVIGA A DESTINAZIONE</a>
            </div>
        </section>

        <section>
            <h2 data-aos="drop-in" data-aos-mirror="true">Un Pensiero per noi</h2>
            <div class="gift-section" id="giftBox" onclick="this.classList.toggle('active')">
                <div class="iban-letter">
                    <p style="font-size:0.7rem; color:var(--gold); font-weight:bold;">IBAN PER IL NOSTRO SOGNO</p>
                    <p id="iban" style="font-family:monospace; margin:15px 0; font-size:0.85rem;">IT00 X000 0000 0000 0000 0000 000</p>
                    <button onclick="copyIban()" class="btn" style="padding:8px 15px; font-size:0.6rem;">COPIA IBAN</button>
                </div>
                <div class="gift-box">
                    <i class="fa-solid fa-gift" style="font-size:2.5rem;"></i>
                </div>
            </div>
        </section>

        <section style="height:auto; min-height:100vh; padding: 100px 20px;">
            <h2 data-aos="drop-in" data-aos-mirror="true">Conferma Presenza</h2>
            <div class="rsvp-card" data-aos="fade-up" data-aos-mirror="true">
                <form>
                    <div class="form-grid">
                        <div class="full-width">
                            <label>Nome e Cognome Partecipanti</label>
                            <input type="text" placeholder="Es: Mario e Clara Rossi" required>
                        </div>
                        <div>
                            <label>Adulti</label>
                            <input type="number" value="2" min="1">
                        </div>
                        <div>
                            <label>Bambini</label>
                            <input type="number" value="0" min="0">
                        </div>
                    </div>

                    <label>Esigenze Alimentari</label>
                    <div class="diet-list">
                        <div class="diet-item"><input type="checkbox"> Senza Glutine</div>
                        <div class="diet-item"><input type="checkbox"> Senza Lattosio</div>
                        <div class="diet-item"><input type="checkbox"> Vegetariano</div>
                        <div class="diet-item"><input type="checkbox"> Vegano</div>
                        <div class="diet-item"><input type="checkbox"> No Frutta Secca</div>
                        <div class="diet-item"><input type="checkbox"> In Gravidanza</div>
                    </div>

                    <div style="margin-top:20px;">
                        <label>Messaggio per gli sposi</label>
                        <textarea rows="3" placeholder="Scrivici qualcosa..."></textarea>
                    </div>

                    <button type="button" class="btn" style="width:100%; margin-top:20px; background:var(--dark); color:white; border:none;">INVIA CONFERMA</button>
                </form>
            </div>
        </section>

    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Inizializzazione AOS con "mirror" per animazioni in su e in giù
        AOS.init({ duration: 1000, mirror: true });

        function openInvite() {
            const env = document.getElementById('envelope');
            const wrapper = document.getElementById('envelope-wrapper');
            const content = document.getElementById('site-content');
            
            // 1. Ruota il lembo
            env.classList.add('open');
            
            // 2. Dopo l'apertura, fai sparire la busta e mostra il sito
            setTimeout(() => {
                wrapper.classList.add('fade-out');
                content.classList.add('active');
                document.body.classList.remove('locked');
            }, 1000);
        }

        function copyIban() {
            const iban = document.getElementById('iban').innerText;
            navigator.clipboard.writeText(iban);
            alert("IBAN copiato con successo!");
        }

        // Countdown
        const weddingDate = new Date("June 6, 2026 16:30:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const d = weddingDate - now;
            document.getElementById("days").innerText = Math.floor(d / (1000*60*60*24));
            document.getElementById("hours").innerText = Math.floor((d % (1000*60*60*24)) / (1000*60*60));
        }, 1000);
    </script>
</body>
</html>
